!function(T){function C(){return new Date(Date.UTC.apply(Date,arguments))}function a(t,e){var i=this;this.element=T(t),this.autoShow=null==e.autoShow||e.autoShow,this.appendTo=e.appendTo||"body",this.closeButton=e.closeButton,this.language=e.language||this.element.data("date-language")||"en",this.language=this.language in U?this.language:this.language.split("-")[0],this.language=this.language in U?this.language:"en",this.isRTL=U[this.language].rtl||!1,this.format=b.parseFormat(e.format||this.element.data("date-format")||U[this.language].format||"mm/dd/yyyy"),this.formatText=e.format||this.element.data("date-format")||U[this.language].format||"mm/dd/yyyy",this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".prefix, .postfix"),this.hasInput=this.component&&this.element.find("input").length,this.disableDblClickSelection=e.disableDblClickSelection,this.onRender=e.onRender||function(){},this.component&&0===this.component.length&&(this.component=!1),this.linkField=e.linkField||this.element.data("link-field")||!1,this.linkFormat=b.parseFormat(e.linkFormat||this.element.data("link-format")||"yyyy-mm-dd hh:ii:ss"),this.minuteStep=e.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=e.pickerPosition||this.element.data("picker-position")||"bottom-right",this.initialDate=e.initialDate||null,this.faCSSprefix=e.faCSSprefix||"fa",this.leftArrow=e.leftArrow||'<i class="'+this.faCSSprefix+" "+this.faCSSprefix+'-chevron-left fi-arrow-left"/>',this.rightArrow=e.rightArrow||'<i class="'+this.faCSSprefix+" "+this.faCSSprefix+'-chevron-right fi-arrow-right"/>',this.closeIcon=e.closeIcon||'<i class="'+this.faCSSprefix+" "+this.faCSSprefix+"-remove "+this.faCSSprefix+'-times fi-x"></i>',this.minView=0,"minView"in e?this.minView=e.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=b.convertViewMode(this.minView),this.maxView=b.modes.length-1,"maxView"in e?this.maxView=e.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=b.convertViewMode(this.maxView),this.nonMilitaryTime=!1,"nonMilitaryTime"in e&&(this.nonMilitaryTime=e.nonMilitaryTime),this.startViewMode="month","startView"in e?this.startViewMode=e.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=b.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,"minView"in e||"maxView"in e||this.element.data("min-view")||this.element.data("max-view")||(this.pickTime=!1,"pickTime"in e&&(this.pickTime=e.pickTime),1==this.pickTime?this.minView=0:this.minView=2,this.maxView=4),this.forceParse=!0,"forceParse"in e?this.forceParse=e.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=T(b.template(this.leftArrow,this.rightArrow,this.closeIcon)).appendTo(this.isInline?this.element:this.appendTo).on({click:T.proxy(this.click,this),mousedown:T.proxy(this.mousedown,this)}),this.closeButton?this.picker.find("a.datepicker-close").show():this.picker.find("a.datepicker-close").hide(),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".date-switch").each(function(){T(this).parent().prepend(T(this).siblings(".next")),T(this).parent().append(T(this).siblings(".prev"))}),this.picker.find(".prev, .next").toggleClass("prev next")),T(document).on("mousedown",function(t){i.isInput&&t.target===i.element[0]||0===T(t.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&i.hide()}),this.autoclose=!0,"autoclose"in e?this.autoclose=e.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in e?this.keyboardNavigation=e.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=e.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=e.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in e?this.calendarWeeks=e.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this.weekStart=(e.weekStart||this.element.data("date-weekstart")||U[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.datesDisabled=[],this.setStartDate(e.startDate||this.element.data("date-startdate")),this.setEndDate(e.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(e.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setDatesDisabled(e.datesDisabled||this.element.data("dates-disabled")),null!=this.initialDate&&(this.date=this.viewDate=b.parseDate(this.initialDate,this.format,this.language),this.setValue()),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show(),this._attachEvents()}a.prototype={constructor:a,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this.keyboardNavigation?this._events=[[this.element,{focus:this.autoShow?T.proxy(this.show,this):function(){},keyup:T.proxy(this.update,this),keydown:T.proxy(this.keydown,this),click:this.element.attr("readonly")?T.proxy(this.show,this):function(){}}]]:this._events=[[this.element,{focus:this.autoShow?T.proxy(this.show,this):function(){}}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:this.autoShow?T.proxy(this.show,this):function(){},keyup:T.proxy(this.update,this),keydown:T.proxy(this.keydown,this)}],[this.component,{click:T.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:T.proxy(this.show,this)}]],this.disableDblClickSelection&&(this._events[this._events.length]=[this.element,{dblclick:function(t){t.preventDefault(),t.stopPropagation(),T(this).blur()}}]);for(var t,e,i=0;i<this._events.length;i++)t=this._events[i][0],e=this._events[i][1],t.on(e)},_detachEvents:function(){for(var t,e,i=0;i<this._events.length;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(t){this.picker.show(),this.height=(this.component||this.element).outerHeight(),this.update(),this.place(),T(window).on("resize",T.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(t){this.isInline||this.picker.is(":visible")&&(this.picker.hide(),T(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||T(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t))},getFormattedDate:function(t){return void 0===t&&(t=this.format),b.formatDate(this.date,t,this.language)},setStartDate:function(t){this.startDate=t||-1/0,this.startDate!==-1/0&&(this.startDate=b.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,this.endDate!==1/0&&(this.endDate=b.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],T.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=T.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setDatesDisabled:function(t){this.datesDisabled=t||[],T.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/)),this.datesDisabled=T.map(this.datesDisabled,function(t){return b.parseDate(t,this.format,this.language).valueOf()}),this.update(),this.updateNavArrows()},place:function(){var t,e,i,s,a,n,h,r;this.isInline||(t=[],this.element.parents().map(function(){"auto"!=T(this).css("z-index")&&t.push(parseInt(T(this).css("z-index")))}),e=t.sort(function(t,e){return t-e}).pop()+10,i=(h=this.component||this.element).offset(),r=h.outerHeight()+parseInt(h.css("margin-top")),s=h.outerWidth()+parseInt(h.css("margin-left")),a=i.top+r,n=i.left,this.picker.removeClass("datepicker-top datepicker-bottom"),h=T(window).scrollTop()<i.top-this.picker.outerHeight(),!(r=a+this.picker.outerHeight()<T(window).scrollTop()+T(window).height())&&h?(a=i.top-this.picker.outerHeight(),this.picker.addClass("datepicker-top")):(r||T(window).scrollTop(i.top),this.picker.addClass("datepicker-bottom")),i.left+this.picker.width()>=T(window).width()&&(n=i.left+s-this.picker.width()),this.picker.css({top:a,left:n,zIndex:e}))},update:function(){var t,e=!1,i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),this.date=b.parseDate(t,this.format,this.language),e?this.setValue():""==i&&this.element.trigger({type:"changeDate",date:null}),this.date<this.startDate?this.viewDate=new Date(this.startDate.valueOf()):this.date>this.endDate?this.viewDate=new Date(this.endDate.valueOf()):this.viewDate=new Date(this.date.valueOf()),this.fill()},fillDow:function(){var t,e=this.weekStart,i="<tr>";for(this.calendarWeeks&&(i+=t='<th class="cw">&nbsp;</th>',this.picker.find(".datepicker-days thead tr:first-child").prepend(t));e<this.weekStart+7;)i+='<th class="dow">'+U[this.language].daysMin[e++%7]+"</th>";i+="</tr>",this.picker.find(".datepicker-days thead").append(i)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+U[this.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var t=new Date(this.viewDate.valueOf()),e=t.getUTCFullYear(),i=t.getUTCMonth(),s=t.getUTCDate(),a=t.getUTCHours(),n=t.getUTCMinutes(),h=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,r=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,o=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,d=this.endDate!==1/0?this.endDate.getUTCMonth():1/0,l=this.date&&C(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),c=new Date;U[this.language].titleFormat||U.en.titleFormat;this.picker.find(".datepicker-days thead th:eq(1)").text(U[this.language].months[i]+" "+e),this.picker.find(".datepicker-hours thead th:eq(1)").text(s+" "+U[this.language].months[i]+" "+e),this.picker.find(".datepicker-minutes thead th:eq(1)").text(s+" "+U[this.language].months[i]+" "+e),this.picker.find("tfoot th.today").text(U[this.language].today).toggle(!1!==this.todayBtn),this.updateNavArrows(),this.fillMonths();var u=C(e,i-1,28,0,0,0,0),t=b.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(t),u.setUTCDate(t-(u.getUTCDay()-this.weekStart+7)%7),(m=new Date(u.valueOf())).setUTCDate(m.getUTCDate()+42);for(var p,f,m=m.valueOf(),g=[];u.valueOf()<m;)u.getUTCDay()==this.weekStart&&(g.push("<tr>"),this.calendarWeeks&&(p=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()-u.getDay()+10-(this.weekStart&&this.weekStart%7<5&&7)),f=new Date(p.getFullYear(),0,4),g.push('<td class="cw">'+~~((p-f)/864e5/7+1.5)+"</td>"))),D=" "+this.onRender(u)+" ",u.getUTCFullYear()<e||u.getUTCFullYear()==e&&u.getUTCMonth()<i?D+=" old":(u.getUTCFullYear()>e||u.getUTCFullYear()==e&&u.getUTCMonth()>i)&&(D+=" new"),this.todayHighlight&&u.getUTCFullYear()==c.getFullYear()&&u.getUTCMonth()==c.getMonth()&&u.getUTCDate()==c.getDate()&&(D+=" today"),l&&u.valueOf()==l&&(D+=" active"),(u.valueOf()<this.startDate||u.valueOf()>this.endDate||-1!==T.inArray(u.getUTCDay(),this.daysOfWeekDisabled)||-1!==T.inArray(u.valueOf(),this.datesDisabled))&&(D+=" disabled"),g.push('<td class="day'+D+'">'+u.getUTCDate()+"</td>"),u.getUTCDay()==this.weekEnd&&g.push("</tr>"),u.setUTCDate(u.getUTCDate()+1);this.picker.find(".datepicker-days tbody").empty().append(g.join(""));for(var g=[],v=0;v<24;v++){var D="";(w=C(e,i,s,v)).valueOf()+36e5<this.startDate||w.valueOf()>this.endDate?D+=" disabled":a==v&&(D+=" active"),this.nonMilitaryTime?g.push('<span class="hour nonMilitaryTime'+D+'">'+(y=0==(y=v%12)?12:y)+":00 "+(12<=v&&v<=23?"PM":"AM")+"</span>"):g.push('<span class="hour'+D+'">'+v+":00</span>")}this.picker.find(".datepicker-hours td").html(g.join("")),g=[];for(var w,y,v=0;v<60;v+=this.minuteStep)D="",(w=C(e,i,s,a,v)).valueOf()<this.startDate||w.valueOf()>this.endDate?D+=" disabled":Math.floor(n/this.minuteStep)==Math.floor(v/this.minuteStep)&&(D+=" active"),this.nonMilitaryTime?g.push('<span class="minute nonMilitaryTime'+D+'">'+(y=0==(y=a%12)?12:y)+":"+(v<10?"0"+v:v)+" "+(12<=a&&a<=23?"PM":"AM")+"</span>"):g.push('<span class="minute'+D+'">'+a+":"+(v<10?"0"+v:v)+"</span>");this.picker.find(".datepicker-minutes td").html(g.join(""));var k=this.date&&this.date.getUTCFullYear(),t=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");k&&k==e&&t.eq(this.date.getUTCMonth()).addClass("active"),(e<h||o<e)&&t.addClass("disabled"),e==h&&t.slice(0,r).addClass("disabled"),e==o&&t.slice(d+1).addClass("disabled"),g="";e=10*parseInt(e/10,10),d=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");--e;for(v=-1;v<11;v++)g+='<span class="year'+(-1==v||10==v?" old":"")+(k==e?" active":"")+(e<h||o<e?" disabled":"")+'">'+e+"</span>",e+=1;d.html(g)}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth(),s=t.getUTCDate(),a=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&s<=this.startDate.getUTCDate()&&a<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&s>=this.endDate.getUTCDate()&&a>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&s<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&s>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(t){t.stopPropagation(),t.preventDefault(),(T(t.target).hasClass("datepicker-close")||T(t.target).parent().hasClass("datepicker-close"))&&this.hide();var e,i,s,a,n,h,r=T(t.target).closest("span, td, th");if(1==r.length)if(r.is(".disabled"))this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});else switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"date-switch":this.showMode(1);break;case"prev":case"next":var o=b.modes[this.viewMode].navStep*("prev"==r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,o);break;case 1:this.viewDate=this.moveDate(this.viewDate,o);break;case 2:this.viewDate=this.moveMonth(this.viewDate,o);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var d=C((d=new Date).getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds());this.viewMode=this.startViewMode,this.showMode(0),this._setDate(d)}break;case"span":r.is(".disabled")||(r.is(".month")?3===this.minView?(s=r.parent().find("span").index(r)||0,i=this.viewDate.getUTCFullYear(),e=1,a=this.viewDate.getUTCHours(),n=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds(),this._setDate(C(i,s,e,a,n,h,0))):(this.viewDate.setUTCDate(1),s=r.parent().find("span").index(r),this.viewDate.setUTCMonth(s),this.element.trigger({type:"changeMonth",date:this.viewDate})):r.is(".year")?4===this.minView?(i=parseInt(r.text(),10)||0,s=0,e=1,a=this.viewDate.getUTCHours(),n=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds(),this._setDate(C(i,s,e,a,n,h,0))):(this.viewDate.setUTCDate(1),i=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(i),this.element.trigger({type:"changeYear",date:this.viewDate})):r.is(".hour")?(a=!this.nonMilitaryTime||0<=r.text().indexOf("AM")?parseInt(r.text(),10)||0:parseInt(r.text(),10)+12||0,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),e=this.viewDate.getUTCDate(),n=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds(),this._setDate(C(i,s,e,a,n,h,0))):r.is(".minute")&&(n=parseInt(r.text().substr(r.text().indexOf(":")+1),10)||0,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),e=this.viewDate.getUTCDate(),a=this.viewDate.getUTCHours(),h=this.viewDate.getUTCSeconds(),this._setDate(C(i,s,e,a,n,h,0))),0!=this.viewMode?(l=this.viewMode,this.showMode(-1),this.fill(),l==this.viewMode&&this.autoclose&&this.hide()):(this.fill(),this.autoclose&&this.hide()));break;case"td":r.is(".day")&&!r.is(".disabled")&&(e=parseInt(r.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=this.viewDate.getUTCHours(),n=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds(),r.is(".old")?0===s?(s=11,--i):--s:r.is(".new")&&(11==s?(s=0,i+=1):s+=1),this._setDate(C(i,s,e,a,n,h,0)));var l=this.viewMode;this.showMode(-1),this.fill(),l==this.viewMode&&this.autoclose&&this.hide()}},_setDate:function(t,e){var i;e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date}),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose)},moveHour:function(t,e){if(!e)return t;t=new Date(t.valueOf());return e=0<e?1:-1,t.setUTCHours(t.getUTCHours()+e),t},moveDate:function(t,e){if(!e)return t;t=new Date(t.valueOf());return e=0<e?1:-1,t.setUTCDate(t.getUTCDate()+e),t},moveMonth:function(t,e){if(!e)return t;var i,s,a=new Date(t.valueOf()),n=a.getUTCDate(),h=a.getUTCMonth(),r=Math.abs(e);if(e=0<e?1:-1,1==r)s=-1==e?function(){return a.getUTCMonth()==h}:function(){return a.getUTCMonth()!=i},i=h+e,a.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var o=0;o<r;o++)a=this.moveMonth(a,e);i=a.getUTCMonth(),a.setUTCDate(n),s=function(){return i!=a.getUTCMonth()}}for(;s();)a.setUTCDate(--n),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(!this.keyboardNavigation)return!0;if(this.picker.is(":not(:visible)"))27==t.keyCode&&this.show();else{var e,i,s,a,n=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):((i=new Date(this.date.valueOf())).setUTCDate(this.date.getUTCDate()+e),(s=new Date(this.viewDate.valueOf())).setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),n=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):((i=new Date(this.date.valueOf())).setUTCDate(this.date.getUTCDate()+7*e),(s=new Date(this.viewDate.valueOf())).setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),n=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}n&&(this.element.trigger({type:"changeDate",date:this.date}),this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change())}},showMode:function(t){!t||(t=Math.max(0,Math.min(b.modes.length-1,this.viewMode+t)))>=this.minView&&t<=this.maxView&&(this.viewMode=t),this.picker.find(">div").hide().filter(".datepicker-"+b.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},changeViewDate:function(t){this.date=t,this.viewDate=t,this.fill()},reset:function(t){this._setDate(null,"date")}},T.fn.fdatepicker=function(i){var s=Array.apply(null,arguments);return s.shift(),this.each(function(){var t=T(this),e=t.data("datepicker");e||t.data("datepicker",e=new a(this,T.extend({},T.fn.fdatepicker.defaults,"object"==typeof i&&i))),"string"==typeof i&&"function"==typeof e[i]&&e[i].apply(e,s)})},T.fn.fdatepicker.defaults={onRender:function(t){return""}},T.fn.fdatepicker.Constructor=a;var U=T.fn.fdatepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",titleFormat:"MM yyyy"}},b={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,b.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return this.formatText=t,{separators:e,parts:i}},parseDate:function(t,e,i){if(t instanceof Date)return new Date(t.valueOf()-6e4*t.getTimezoneOffset());if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(t)&&(e=this.parseFormat("yyyy-mm-dd")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(t)&&(e=this.parseFormat("yyyy-mm-dd hh:ii")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(t)&&(e=this.parseFormat("yyyy-mm-dd hh:ii:ss")),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(t)){var s,a=/([-+]\d+)([dmwy])/,n=t.match(/([-+]\d+)([dmwy])/g);t=new Date;for(var h=0;h<n.length;h++)switch(d=a.exec(n[h]),s=parseInt(d[1]),d[2]){case"d":t.setUTCDate(t.getUTCDate()+s);break;case"m":t=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,t,s);break;case"w":t.setUTCDate(t.getUTCDate()+7*s);break;case"y":t=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,t,s)}return C(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}var r,o,d,n=t&&t.match(this.nonpunctuation)||[],t=new Date,l={},c=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","d","dd"],u={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(--e;e<0;)e+=12;for(t.setUTCMonth(e%=12);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};if(u.M=u.MM=u.mm=u.m,u.dd=u.d,t=C(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),n.length==e.parts.length){for(var h=0,p=e.parts.length;h<p;h++){if(r=parseInt(n[h],10),d=e.parts[h],isNaN(r))switch(d){case"MM":o=T(U[i].months).filter(function(){var t=this.slice(0,n[h].length);return t==n[h].slice(0,t.length)}),r=T.inArray(o[0],U[i].months)+1;break;case"M":o=T(U[i].monthsShort).filter(function(){var t=this.slice(0,n[h].length);return t==n[h].slice(0,t.length)}),r=T.inArray(o[0],U[i].monthsShort)+1}l[d]=r}for(var f,h=0;h<c.length;h++)(f=c[h])in l&&!isNaN(l[f])&&u[f](t,l[f])}return t},formatDate:function(t,e,i){if(null==t)return"";var s={h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds(),d:t.getUTCDate(),m:t.getUTCMonth()+1,M:U[i].monthsShort[t.getUTCMonth()],MM:U[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.hh=(s.h<10?"0":"")+s.h,s.ii=(s.i<10?"0":"")+s.i,s.ss=(s.s<10?"0":"")+s.s,s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;for(var t=[],a=T.extend([],e.separators),n=0,h=e.parts.length;n<h;n++)a.length&&t.push(a.shift()),t.push(s[e.parts[n]]);return t.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:function(t,e){return'<thead><tr><th class="prev">'+t+'</th><th colspan="5" class="date-switch"></th><th class="next">'+e+"</th></tr></thead>"},contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>',template:function(t,e,i){return'<div class="datepicker"><div class="datepicker-minutes"><table class=" table-condensed">'+b.headTemplate(t,e)+b.contTemplate+b.footTemplate+'</table></div><div class="datepicker-hours"><table class=" table-condensed">'+b.headTemplate(t,e)+b.contTemplate+b.footTemplate+'</table></div><div class="datepicker-days"><table class=" table-condensed">'+b.headTemplate(t,e)+"<tbody></tbody>"+b.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+b.headTemplate(t,e)+b.contTemplate+b.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+b.headTemplate(t,e)+b.contTemplate+b.footTemplate+'</table></div><a class="button datepicker-close tiny alert right" style="width:auto;">'+i+"</a></div>"}};T.fn.fdatepicker.DPGlobal=b}(window.jQuery);